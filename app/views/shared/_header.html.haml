%nav.navbar.navbar-expand-lg.navbar-light
  .container-fluid
    %a.navbar-brand{href: '/'}
      %img.mapforge-logo.me-2{ src: "/icons/mapforge-logo-header.png", alt: "" }
      .mapforge-font.white-shadow{ href: "#" } Mapforge

    %button.navbar-toggler{ type: "button", "data-bs-toggle": "collapse", "data-bs-target": "#navbarSupportedContent", "aria-controls": "navbarSupportedContent", "aria-expanded": "false", "aria-label": "Toggle navigation" }
      %span.navbar-toggler-icon

    #navbarSupportedContent.collapse.navbar-collapse
      %ul.navbar-nav.me-auto.mb-2.mb-lg-0.mt-1
        %li.nav-item
          %a.nav-link.active{ "aria-current": "page", href: "/m" } Explore
        / %li.nav-item
        /  %a.nav-link.active{ "aria-current": "page", href: "/m" } Features

      .d-flex.align-items-center
        %button.me-4.btn.btn-orange{ type: "button" }
          = link_to create_map_path, { class: 'dropdown-item', data: { turbo_method: :post } } do
            %i.bi.bi-plus-square
            Create map

        - if @user
          .nav-item.dropdown.profile-dropdown

            %a.nav-link.dropdown-toggle{ href: "#", id: "navbarDropdown", role: "button", "data-bs-toggle": "dropdown", "aria-expanded": "false" }
              %img.profile-image{ src: @user.image, alt: "" }
            %ul.dropdown-menu{ "aria-labelledby": "navbarDropdown" }
              - if @user.admin?
                %li
                  %a.dropdown-item{ href: "/admin" } Admin
              %li
                = link_to logout_path, { class: 'dropdown-item', data: { turbo_method: :post } } do
                  %i.bi.bi-box-arrow-in-left
                  Logout
        - else
          .nav-item
            = link_to login_path, { class: 'nav-link' } do
              %i.bi.bi-person-circle
              Login

