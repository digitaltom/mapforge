!!!
%html{ lang: 'en' }
  %head
    %title= content_for?(:title) ? yield(:title) : 'mapforge.org'
    %meta{ charset: "UTF-8"}
    %meta{ content: 'user-scalable=no,width=device-width,initial-scale=1', name: 'viewport' }
    %meta{ name: 'turbo-prefetch', content: 'false' }
    %meta{ name: 'apple-mobile-web-app-capable', content: 'yes' }

    = csrf_meta_tags
    = csp_meta_tag

    / fonts
    / https://icons.getbootstrap.com/
    = stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    / Logo font
    = stylesheet_link_tag "https://fonts.googleapis.com/css2?family=IM+Fell+Great+Primer+SC&display=swap"

    / css
    = stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    / maptiler-sdk.css includes maplibre-gl css and looks better
    = stylesheet_link_tag "https://cdn.maptiler.com/maptiler-sdk-js/v2.3.0/maptiler-sdk.css"
    = stylesheet_link_tag "https://unpkg.com/@mapbox/mapbox-gl-draw@1.4.3/dist/mapbox-gl-draw.css"
    = stylesheet_link_tag "https://cdn.maptiler.com/maptiler-geocoding-control/v1.4.1/style.css"
    = stylesheet_link_tag "https://unpkg.com/easymde/dist/easymde.min.css"

    = stylesheet_link_tag "application", "data-turbo-track": "reload"

    / ES Module Shims: Import maps polyfill for older browsers without import maps support (eg Safari 16.3)
    = javascript_include_tag "https://ga.jspm.io/npm:es-module-shims@1.8.2/dist/es-module-shims.js", async: true, 'data-turbo-track': 'reload'
    = javascript_importmap_tags

    / https://turfjs.org/
    = javascript_include_tag "https://unpkg.com/@turf/turf@6/turf.min.js"

    / https://github.com/Ionaru/easy-markdown-editor
    = javascript_include_tag "https://unpkg.com/easymde/dist/easymde.min.js"

    = yield(:head)

    %link{ rel: "manifest", href: "/manifest.json" }
    %link{ rel: "icon", href: "/icons/mapforge-logo.png", type: "image/png" }
    %link{ rel: "apple-touch-icon", href: "/icons/mapforge-logo.png", sizes: "512x512" }

  %body
    = Gon::Base.render_data

    = yield

